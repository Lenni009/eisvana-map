var colors=[[232,213,49],[246,108,98],[62,143,65],[9,102,175]],systemColors="yrgb",systemRaces="gkv",races=["Gek","Korvax","Vy'keen"];function toHex(e,a){return e=("0".repeat(a=null==a?2:a)+Number(e).toString(16)).slice(-a).toUpperCase()}function fromHex(e){return parseInt(e,16)}var materials={data:[{name:"Antrium",id:0,tool:"None",allPlanets:!0,notes:"Bright flowers in any planet",sources:[]},{name:"Candensium",id:1,tool:"None",allPlanets:!1,notes:"",sources:[]},{name:"Coprite",id:2,tool:"None",allPlanets:!0,notes:"Feed animals, grab the poo",sources:[]},{name:"Coryzagen",id:3,tool:"HazmatGloves",allPlanets:!1,notes:"",sources:[]},{name:"Cymatygen",id:4,tool:"None",allPlanets:!1,notes:"",sources:[]},{name:"Fervidium",id:5,tool:"HazmatGloves",allPlanets:!1,notes:"",sources:[]},{name:"Mordite",id:6,tool:"None",allPlanets:!0,notes:"Kill animals",sources:[]},{name:"Pugneum",id:7,tool:"None",allPlanets:!0,notes:"Kill sentinels",sources:[]},{name:"Rubeum",id:8,tool:"None",allPlanets:!1,notes:"",sources:[]},{name:"Spadonium",id:9,tool:"None",allPlanets:!1,notes:"",sources:[]},{name:"Rigogen",id:10,tool:"HazmatGloves",allPlanets:!1,notes:"",sources:[]},{name:"Temerium",id:11,tool:"None",allPlanets:!1,notes:"",sources:[]},{name:"Tropheum",id:12,tool:"None",allPlanets:!0,notes:"Destroy pirate ships",sources:[]},{name:"Viridium",id:13,tool:"None",allPlanets:!1,notes:"",sources:[]},{name:"K. Converg. Cube",id:14,tool:"None",allPlanets:!1,notes:"",sources:[]},{name:"Sac Venom",id:15,tool:"None",allPlanets:!1,notes:"",sources:[]},{name:"Vy'keen dagger",id:16,tool:"None",allPlanets:!1,notes:"",sources:[]}],getMaterialByIndex:function(e){for(var a=0;a<this.data.length;a++)if(this.data[a].id==e)return this.data[a];return null},addSource:function(e,a,n,t){for(var o=0;o<this.data.length;o++)if(this.data[o].id==e){var s=regionHandler.getStarByIndex(a),l=null!=s,r=null!=s?s.name:"Unknown";this.data[o].sources.push({solarIndexHex:toHex(a,4),solarIndex:a,knownStar:l,name:r,notes:t,inStation:n})}}},loadMetaData=function(){};function loadDataFromWiki(){systemSelectionApp.wikiLoading=!0,$.ajax({url:"https://nomanssky.gamepedia.com/api.php?action=parse&format=json&prop=wikitext&page=HubMSData",dataType:"jsonp",success:function(e){for(var a=(e=e.parse.wikitext["*"]).split("hubentry"),n=0;n<a.length;n++)if(!(a[n].indexOf("Info Type")<0)){for(var t=a[n].split("\n").filter((function(e){return 0==e.indexOf("|")&&e.indexOf("|-")<0&&e.indexOf("|}")<0})),o=1,s=0,l={ps4:"",pc:""},r="",i="",m=null,u=null,d={},c=!0,p=0;p<t.length;p++){var g=t[p].split("|").filter((function(e){return e.length>=1&&e.indexOf("=")<0})),f=g[0];try{for(var y=0;y<g.length;y++)switch(f){case"SystemData":o=Number(g[1]),s=fromHex(g[2]),l.ps4=g[3],l.pc=g[4],r=systemColors.indexOf(g[5].toLowerCase()[0]),i=systemRaces.indexOf(g[6].toLowerCase()[0]);break;case"DistanceIds":m=[g[1],g[2],g[3],g[4]];break;case"DistanceValues":u=[g[1],g[2],g[3],g[4]];break;case"SystemDescription":d.SystemDescription=g[1];break;case"SystemTags":d.SystemTags=g[1];break;case"SystemPage":d.SystemPage=g[1]}}catch(e){c=!1,console.log("Cannot parse system: ",e)}}c&&regionHandler.addPseudoStar(o,s,l,r,i,m,u)}systemSelectionApp.applyFilter(),systemSelectionApp.wikiLoading=!1}})}
